<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="真后台">
	<meta name="author" content="Lanseria">
	<link rel="icon" href="__PUBLIC__/favicon.ico">
	<title>后台--管理员中心</title>
	<!-- basic styles -->
	<link href="__PUBLIC__/assets/css/bootstrap.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/font-awesome.min.css" />
		<!--[if IE 7]>
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/font-awesome-ie7.min.css" />
		  <![endif]-->
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/jquery-ui-1.10.3.custom.min.css" />
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/jquery.gritter.css" />
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/chosen.css" />

		  <link rel="stylesheet" href="__PUBLIC__/assets/css/datepicker.css" />
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/bootstrap-timepicker.css" />
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/daterangepicker.css" />
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/colorpicker.css" />
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/ui.jqgrid.css" />
		  <!-- page specific plugin styles -->
		  <!-- fonts -->
		  <!-- ace styles -->
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/ace.min.css" />
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/ace-rtl.min.css" />
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/ace-skins.min.css" />
		<!--[if lte IE 8]>
		  <link rel="stylesheet" href="__PUBLIC__/assets/css/ace-ie.min.css" />
		  <![endif]-->
		  <!-- inline styles related to this page -->
		  <!-- ace settings handler -->
		  <script src="__PUBLIC__/assets/js/ace-extra.min.js"></script>
		  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		<script src="__PUBLIC__/assets/js/html5shiv.js"></script>
		<script src="__PUBLIC__/assets/js/respond.min.js"></script>
		<![endif]-->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
	<div class="navbar navbar-default" id="navbar">
		<script type="text/javascript">
			try{ace.settings.check('navbar' , 'fixed')}catch(e){}
		</script>

		<div class="navbar-container" id="navbar-container">
			<div class="navbar-header pull-left">
				<a href="{:U('Manager_Detail/Index/index')}" class="navbar-brand">
					<small>
						<i class="icon-leaf"></i>
						报名平台系统后台
					</small>
				</a><!-- /.brand -->
			</div><!-- /.navbar-header -->

			<div class="navbar-header pull-right" role="navigation">
				<ul class="nav ace-nav">
					<li class="light-blue">
						<a data-toggle="dropdown" href="#" class="dropdown-toggle">
							<img class="nav-user-photo" src="__PUBLIC__/assets/avatars/user.jpg" alt="Jason's Photo" />
							<span class="user-info">
								<small>欢迎,</small>
								{$Think.session.logineduser}
							</span>
							<i class="icon-caret-down"></i>
						</a>
						<ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
							<li>
								<a href="{:U('/Home/Msg/index')}">
									<i class="icon-bullhorn"></i>
									前台
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="{:U('/Manager_Detail/User/logout')}">
									<i class="icon-off"></i>
									注销
								</a>
							</li>
						</ul>
					</li>
				</ul><!-- /.ace-nav -->
			</div><!-- /.navbar-header -->
		</div><!-- /.container -->
	</div>

	<div class="main-container" id="main-container">
		<script type="text/javascript">
			try{ace.settings.check('main-container' , 'fixed')}catch(e){}
		</script>

		<div class="main-container-inner">
			<a class="menu-toggler" id="menu-toggler" href="#">
				<span class="menu-text"></span>
			</a>

			<div class="sidebar" id="sidebar">
				<script type="text/javascript">
					try{ace.settings.check('sidebar' , 'fixed')}catch(e){}
				</script>
				<ul class="nav nav-list">
					<li class="{$iac}">
						<a href="{:U('Manager_Detail/Index/index')}">
							<i class="icon-dashboard"></i>
							<span class="menu-text"> 控制台 </span>
						</a>
					</li>
					<li class="{$sac}">
						<a href="{:U('Manager_Detail/Member/submember')}" class="dropdown-toggle">
							<i class="icon-list"></i>
							<span class="menu-text"> 修改成员信息 </span>
							<b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li class="{$sac1}">
								<a href="{:U('Manager_Detail/Member/submember')}">
									<i class="icon-double-angle-right"></i>
									查看活动人员
								</a>
							</li>
							<li class="{$sac2}">
								<a href="{:U('Manager_Detail/Member/editmember')}">
									<i class="icon-double-angle-right"></i>
									编辑活动人员
								</a>
							</li>
						</ul>
					</li>

					<li class="{$aac}">
						<a href="#" class="dropdown-toggle">
							<i class="icon-edit"></i>
							<span class="menu-text"> 活动项 </span>

							<b class="arrow icon-angle-down"></b>
						</a>

						<ul class="submenu">
							<li class="{$aac4}">
								<a href="{:U('Manager_Detail/Active/sumproject')}">
									<i class="icon-double-angle-right"></i>
									查看活动
								</a>
							</li>
							<li class="{$aac1}">
								<a href="{:U('Manager_Detail/Active/addproject')}">
									<i class="icon-double-angle-right"></i>
									添加活动
								</a>
							</li>
							<li class="{$aac2}">
								<a href="{:U('Manager_Detail/Active/editproject')}">
									<i class="icon-double-angle-right"></i>
									编辑活动
								</a>
							</li>
						</ul>
					</li>

					<li>
						<a href="{:U('Manager_Detail/Index/about')}">
							<i class="icon-list-alt"></i>
							<span class="menu-text"> 关于 </span>
						</a>
					</li>
				</ul><!-- /.nav-list -->

				<div class="sidebar-collapse" id="sidebar-collapse">
					<i class="icon-double-angle-left" data-icon1="icon-double-angle-left" data-icon2="icon-double-angle-right"></i>
				</div>

				<script type="text/javascript">
					try{ace.settings.check('sidebar' , 'collapsed')}catch(e){}
				</script>
			</div>
			{__CONTENT__}
			<div class="ace-settings-container" id="ace-settings-container">
				<div class="btn btn-app btn-xs btn-warning ace-settings-btn" id="ace-settings-btn">
					<i class="icon-cog bigger-150"></i>
				</div>

				<div class="ace-settings-box" id="ace-settings-box">
					<div>
						<div class="pull-left">
							<select id="skin-colorpicker" class="hide">
								<option data-skin="default" value="#438EB9">#438EB9</option>
								<option data-skin="skin-1" value="#222A2D">#222A2D</option>
								<option data-skin="skin-2" value="#C6487E">#C6487E</option>
								<option data-skin="skin-3" value="#D0D0D0">#D0D0D0</option>
							</select>
						</div>
						<span>&nbsp; Choose Skin</span>
					</div>

					<div>
						<input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-navbar" />
						<label class="lbl" for="ace-settings-navbar"> Fixed Navbar</label>
					</div>

					<div>
						<input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-sidebar" />
						<label class="lbl" for="ace-settings-sidebar"> Fixed Sidebar</label>
					</div>

					<div>
						<input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-breadcrumbs" />
						<label class="lbl" for="ace-settings-breadcrumbs"> Fixed Breadcrumbs</label>
					</div>

					<div>
						<input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-rtl" />
						<label class="lbl" for="ace-settings-rtl"> Right To Left (rtl)</label>
					</div>

					<div>
						<input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-add-container" />
						<label class="lbl" for="ace-settings-add-container">
							Inside
							<b>.container</b>
						</label>
					</div>
				</div>
			</div><!-- /#ace-settings-container -->
		</div><!-- /.main-container-inner -->

		<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
			<i class="icon-double-angle-up icon-only bigger-110"></i>
		</a>
	</div><!-- /.main-container -->

	<!-- basic scripts -->

	<!--[if !IE]> -->

	<script src="__PUBLIC__/assets/js/jquery.min.js"></script>

	<!-- <![endif]-->

		<!--[if IE]>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<![endif]-->

<!--[if !IE]> -->

<script type="text/javascript">
	window.jQuery || document.write("<script src='__PUBLIC__/assets/js/jquery-2.0.3.min.js'>"+"<"+"/script>");
</script>

<!-- <![endif]-->

		<!--[if IE]>
<script type="text/javascript">
 window.jQuery || document.write("<script src='__PUBLIC__/assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");
</script>
<![endif]-->

<script type="text/javascript">
	if("ontouchend" in document) document.write("<script src='__PUBLIC__/assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
</script>
<script src="__PUBLIC__/assets/js/bootstrap.min.js"></script>
<script src="__PUBLIC__/assets/js/typeahead-bs2.min.js"></script>

<!-- page specific plugin scripts -->

<script src="__PUBLIC__/assets/js/jquery-ui-1.10.3.custom.min.js"></script>
<script src="__PUBLIC__/assets/js/jquery.ui.touch-punch.min.js"></script>
<script src="__PUBLIC__/assets/js/markdown/markdown.min.js"></script>
<script src="__PUBLIC__/assets/js/markdown/bootstrap-markdown.min.js"></script>
<script src="__PUBLIC__/assets/js/jquery.hotkeys.min.js"></script>
<script src="__PUBLIC__/assets/js/bootstrap-wysiwyg.min.js"></script>
<script src="__PUBLIC__/assets/js/bootbox.min.js"></script>
<script src="__PUBLIC__/assets/js/jquery.autosize.min.js"></script>
<script src="__PUBLIC__/assets/js/jquery.inputlimiter.1.3.1.min.js"></script>
<script src="__PUBLIC__/assets/js/fuelux/fuelux.spinner.min.js"></script>
<script src="__PUBLIC__/assets/js/date-time/bootstrap-datepicker.min.js"></script>
<script src="__PUBLIC__/assets/js/date-time/bootstrap-timepicker.min.js"></script>
<script src="__PUBLIC__/assets/js/date-time/moment.min.js"></script>
<script src="__PUBLIC__/assets/js/date-time/daterangepicker.min.js"></script>
<script src="__PUBLIC__/assets/js/bootstrap-colorpicker.min.js"></script>
<script src="__PUBLIC__/assets/js/jquery.knob.min.js"></script>
<script src="__PUBLIC__/assets/js/jquery.maskedinput.min.js"></script>
<script src="__PUBLIC__/assets/js/bootstrap-tag.min.js"></script>
<script src="__PUBLIC__/assets/js/jquery.dataTables.min.js"></script>
<script src="__PUBLIC__/assets/js/jquery.dataTables.bootstrap.js"></script>
<script src="__PUBLIC__/assets/js/jquery.gritter.min.js"></script>
<script src="__PUBLIC__/assets/js/jquery.maskedinput.min.js"></script>
<script src="__PUBLIC__/assets/js/bootstrap-tag.min.js"></script>
<script src="__PUBLIC__/assets/js/chosen.jquery.min.js"></script>
<script src="__PUBLIC__/assets/js/fuelux/fuelux.spinner.min.js"></script>
<script src="__PUBLIC__/assets/js/date-time/bootstrap-datepicker.min.js"></script>
<script src="__PUBLIC__/assets/js/date-time/bootstrap-timepicker.min.js"></script>
<script src="__PUBLIC__/assets/js/date-time/moment.min.js"></script>
<script src="__PUBLIC__/assets/js/date-time/daterangepicker.min.js"></script>
<script src="__PUBLIC__/assets/js/jqGrid/jquery.jqGrid.min.js"></script>
<script src="__PUBLIC__/assets/js/jqGrid/i18n/grid.locale-en.js"></script>


<!-- ace scripts -->

<script src="__PUBLIC__/assets/js/ace-elements.min.js"></script>
<script src="__PUBLIC__/assets/js/ace.min.js"></script>

<!-- inline scripts related to this page -->
<script type="text/javascript">
	var rowCount = 1;  //行数默认1行
	var content = new Array("性别","年龄","学院班级信息","学号","个人简历","电话","邮箱")
	var Econtent = new Array("gender","age","college","number","detail","tel","email")
	function addSRow(n){
		var newSelect='<input type="hidden" class="form-control" id="name'+(n+1)+'" name="name'+(n+1)+'" value="'+Econtent[n-1]+'">';
		$('#f2').append(newSelect);  
	}
	$(document).ready(function(){
		for (var i = 0; i < content.length; i++) {
			$('#form-field-select-4').append('<option value="'+(i+1)+'">'+content[i]+'</option>');
		}
	});
	function changeid(page, Id) {
		$('#sub').attr('href','/Manager_Detail/Index/'+page+'.html?sid='+Id); 
		$('#subd').attr('href','/Manager_Detail/Index/download.html?pid='+Id); 
	}
</script>

<script type="text/javascript">
	function S_Change(){
		var strvalue = $("#form-field-select-1").val();
		var strhtml = $("#form-field-select-1 option:selected").text();
		$("#ptitle").html(strhtml);
		$(".ptitle").html("<i class='icon-double-angle-right'></i>");
		$(".ptitle").append(" "+strhtml);
		$('#downbtn').attr('href','/Manager_Detail/Member/csvdown.html?id='+strvalue);
		$('#smsdownbtn').attr('href','/Manager_Detail/Member/smscsvdown.html?id='+strvalue);
		$.ajax({
			url: "/Manager_Detail/Ajax/index.html?sid="+strvalue,
			type: "get",
			dataType: "json",
			success: function (data) {
				var html_inter = '';
				for(var i = 0; i < data.length; i++)
				{
					html_inter +='<tr><td class="center"><label><input type="checkbox" class="ace"><span class="lbl">';
					html_inter += data[i]['mid'];
					html_inter += '</span></label></td><td><a href="#" id="gritter-regular9">';
					html_inter += data[i]['mname'];
					html_inter += '</a></td><td>';
					html_inter += data[i]['msex'];
					html_inter += '</td><td class="hidden-480">';
					html_inter += data[i]['mage'];
					html_inter += '</td><td>';
					html_inter += data[i]['mcreate_date'];
					html_inter += '</td><td>';
					html_inter += data[i]['mnumber'];
					html_inter += '</td><td class="hidden-480"><span class="label label-sm label-inverse arrowed-in">';
					html_inter += data[i]['colloge_name'];
					html_inter += '</span></td><td class="hidden-480"><span class="label label-sm label-success">';
					html_inter += data[i]['class_name'];
					html_inter += '</span></td><td>';
					html_inter += data[i]['mtel'];
					html_inter += '</td><td><div class="visible-md visible-lg hidden-sm hidden-xs btn-group"><button class="btn btn-xs btn-info"><i class="icon-edit bigger-120"></i></button><a class="btn btn-xs btn-danger" href="del?mid=';
					html_inter += data[i]['mid'];
					html_inter += '"><i class="icon-trash bigger-120"></i></a></div><div class="visible-xs visible-sm hidden-md hidden-lg"><div class="inline position-relative"><button class="btn btn-minier btn-primary dropdown-toggle" data-toggle="dropdown"><i class="icon-cog icon-only bigger-110"></i></button><ul class="dropdown-menu dropdown-only-icon dropdown-yellow pull-right dropdown-caret dropdown-close"><li><a href="#" class="tooltip-info" data-rel="tooltip" title="" data-original-title="View"><span class="blue"><i class="icon-zoom-in bigger-120"></i></span></a></li><li><a href="#" class="tooltip-success" data-rel="tooltip" title="" data-original-title="Edit"><span class="green"><i class="icon-edit bigger-120"></i></span></a></li><li><a href="#" class="tooltip-error" data-rel="tooltip" title="" data-original-title="Delete"><span class="red"><i class="icon-trash bigger-120"></i></span></a></li></ul></div></div></td></tr>';
				}
				$("tbody").empty();
				$("tbody").append(html_inter);
			}
		});
	}
	function P_Change(){
		var strvalue = $("#form-field-select-1").val();
		var strhtml = $("#form-field-select-1 option:selected").text();
		$("#pname").val(strhtml);
		$.ajax({
			url: "/Manager_Detail/Ajax/projectid.html?sid="+strvalue,
			type: "get",
			dataType: "json",
			success: function (data) {
				$('#editor1').html(data[0]['pdes']);
				$('#id-date-picker-1').val(data[0]['pendtime']);
				$('#pdes1').html(data[0]['pdescribe1']);
				$('#pdes2').html(data[0]['pdescribe2']);
				$('#pdes3').html(data[0]['pdescribe3']);
			}
		});
	}
</script>
<script type="text/javascript">
	var grid_data = 
	[{"mid":"9","mname":"赵端阳","msex":"女","mage":"17","colloge_name":"计算机与通信工程学院","class_name":"计算机科学与技术专业（嵌入式软件）","mnumber":"541513430254","mcreate_date":"2016-03-24 23:28:21","mdetail":"","mtel":"13283830343","mprojectid":"1","pname":"技术部方向确认"},{"mid":"10","mname":"关钦立","msex":"男","mage":"19","colloge_name":"计算机与通信工程学院","class_name":"计算机科学与技术专业（嵌入式软件）","mnumber":"541513430208","mcreate_date":"2016-03-24 23:30:46","mdetail":"JAVA","mtel":"13523064817","mprojectid":"1","pname":"技术部方向确认"},{"mid":"14","mname":"刘杨","msex":"女","mage":"20","colloge_name":"计算机与通信工程学院","class_name":"计算机科学与技术专业（3G软件）","mnumber":"541513140124","mcreate_date":"2016-03-24 23:35:34","mdetail":"","mtel":"15839480611","mprojectid":"1","pname":"技术部方向确认"},{"mid":"17","mname":"曾慧慧","msex":"女","mage":"19","colloge_name":"计算机与通信工程学院","class_name":"计算机科学与技术专业","mnumber":"541407010102","mcreate_date":"2016-03-24 23:40:45","mdetail":"","mtel":"15837130212","mprojectid":"1","pname":"技术部方向确认"},{"mid":"18","mname":"刘天成","msex":"男","mage":"19","colloge_name":"计算机与通信工程学院","class_name":"电子信息工程","mnumber":"541523030126","mcreate_date":"2016-03-24 23:49:02","mdetail":"JAVA","mtel":"18203615055","mprojectid":"1","pname":"技术部方向确认"},{"mid":"19","mname":"赖美玲","msex":"女","mage":"21","colloge_name":"政法学院","class_name":"社会工作专业","mnumber":"541509020111","mcreate_date":"2016-03-24 23:54:20","mdetail":"PHP","mtel":"15824856050","mprojectid":"1","pname":"技术部方向确认"},{"mid":"20","mname":"吕银鹏","msex":"男","mage":"20","colloge_name":"计算机与通信工程学院","class_name":"电子信息科学与技术专业","mnumber":"541407020123","mcreate_date":"2016-03-24 23:59:30","mdetail":"","mtel":"18237161524","mprojectid":"1","pname":"技术部方向确认"},{"mid":"21","mname":"吕银鹏","msex":"男","mage":"20","colloge_name":"计算机与通信工程学院","class_name":"电子信息科学与技术专业","mnumber":"541407020123","mcreate_date":"2016-03-25 00:00:34","mdetail":"PHP","mtel":"18237161524","mprojectid":"1","pname":"技术部方向确认"},{"mid":"24","mname":"范宝","msex":"男","mage":"21","colloge_name":"计算机与通信工程学院","class_name":"网络工程专业（运维与安全）","mnumber":"541507110107","mcreate_date":"2016-03-25 00:11:03","mdetail":"","mtel":"15993167001","mprojectid":"1","pname":"技术部方向确认"},{"mid":"25","mname":"吕硕","msex":"男","mage":"19","colloge_name":"计算机与通信工程学院","class_name":"物联网工程专业","mnumber":"541507090122","mcreate_date":"2016-03-25 07:05:23","mdetail":"对技术的热爱是炽热的，喜欢技术性的问题和技术层面的知识。计算机，网络，网站都非常感兴趣 ！","mtel":"18538508603","mprojectid":"1","pname":"技术部方向确认"},{"mid":"26","mname":"丁麒轩","msex":"男","mage":"19","colloge_name":"计算机与通信工程学院","class_name":"信息工程专业","mnumber":"541507070105","mcreate_date":"2016-03-25 07:25:09","mdetail":"C#","mtel":"17607360276","mprojectid":"1","pname":"技术部方向确认"},{"mid":"27","mname":"吕鹏","msex":"男","mage":"20","colloge_name":"计算机与通信工程学院","class_name":"信息工程专业","mnumber":"541507070127","mcreate_date":"2016-03-25 07:49:56","mdetail":"JAVA","mtel":"18838209893","mprojectid":"1","pname":"技术部方向确认"},{"mid":"28","mname":"谢为","msex":"男","mage":"18","colloge_name":"计算机与通信工程学院","class_name":"软件工程专业","mnumber":"541507120146","mcreate_date":"2016-03-25 08:50:55","mdetail":"java","mtel":"13575231170","mprojectid":"1","pname":"技术部方向确认"},{"mid":"29","mname":"甘小彬","msex":"男","mage":"20","colloge_name":"计算机与通信工程学院","class_name":"软件工程专业","mnumber":"541507120109","mcreate_date":"2016-03-25 08:53:12","mdetail":"java","mtel":"18716805329","mprojectid":"1","pname":"技术部方向确认"},{"mid":"30","mname":"孙晨宇","msex":"男","mage":"18","colloge_name":"计算机与通信工程学院","class_name":"计算机科学与技术专业","mnumber":"37","mcreate_date":"2016-03-25 09:20:11","mdetail":"学习技术，勇闯未来","mtel":"18510358558","mprojectid":"1","pname":"技术部方向确认"},{"mid":"32","mname":"石金浩","msex":"男","mage":"19","colloge_name":"软件学院","class_name":"软件工程专业（移动互联网方向）","mnumber":"541513250227","mcreate_date":"2016-03-25 09:24:57","mdetail":"我是一个活泼胆大，勇于创新的男生。我的专业方向是java","mtel":"13213599526","mprojectid":"1","pname":"技术部方向确认"},{"mid":"33","mname":"张木森","msex":"男","mage":"21","colloge_name":"计算机与通信工程学院","class_name":"电子信息工程","mnumber":"541523030150","mcreate_date":"2016-03-25 10:30:27","mdetail":"喜欢编程","mtel":"13276903349","mprojectid":"1","pname":"技术部方向确认"},{"mid":"34","mname":"杨金朋","msex":"男","mage":"20","colloge_name":"计算机与通信工程学院","class_name":"软件工程专业","mnumber":"541510020142","mcreate_date":"2016-03-25 10:37:59","mdetail":"我想报 C#","mtel":"15713862215","mprojectid":"1","pname":"技术部方向确认"},{"mid":"36","mname":"黄祥","msex":"男","mage":"19","colloge_name":"计算机与通信工程学院","class_name":"电子信息工程","mnumber":"541523030216","mcreate_date":"2016-03-25 10:54:15","mdetail":"","mtel":"18736010173","mprojectid":"1","pname":"技术部方向确认"},{"mid":"43","mname":"郑凯","msex":"男","mage":"21","colloge_name":"计算机与通信工程学院","class_name":"软件工程专业","mnumber":"541407120158","mcreate_date":"2016-03-25 11:16:51","mdetail":"java","mtel":"18838964407","mprojectid":"1","pname":"技术部方向确认"},{"mid":"44","mname":"张云飞","msex":"男","mage":"21","colloge_name":"计算机与通信工程学院","class_name":"软件工程专业","mnumber":"541507120158","mcreate_date":"2016-03-25 11:21:10","mdetail":"","mtel":"15824855868","mprojectid":"1","pname":"技术部方向确认"}] ;	
	
	jQuery(function($) {

		var grid_selector = "#grid-table";
		var pager_selector = "#grid-pager";
		var strvalue = 1;
		$.ajax({
			url: "/Manager_Detail/Ajax/index.html?sid="+strvalue,
			type: "get",
			dataType: "json",
			success: function (data) {
				grid_data = data;
			}
		});
		jQuery(grid_selector).jqGrid({
			//direction: "rtl",
			
			data: grid_data,
			datatype: "local",
			height: 250,
			colNames:[' ', 'ID','Last Sales','Name', 'Stock', 'Ship via','Notes'],
			colModel:[
			{name:'myac',index:'', width:80, fixed:true, sortable:false, resize:false,
			formatter:'actions', 
			formatoptions:{ 
				keys:true,
				delOptions:{recreateForm: true, beforeShowForm:beforeDeleteCallback},
			}
		},
		{name:'mid',index:'mid', width:60, sorttype:"int", editable: true},
		{name:'mcreate_date',index:'mcreate_date',width:90, editable:true, sorttype:"date",unformat: pickDate},
		{name:'mname',index:'mname', width:150,editable: true,editoptions:{size:"20",maxlength:"30"}},
		{name:'mgender',index:'mgender', width:70, editable: true,edittype:"checkbox",editoptions: {value:"Man:Woman"},unformat: aceSwitch},
		{name:'colloge_name',index:'colloge_name', width:90, editable: true,edittype:"select",editoptions:{value:"FE:FedEx;IN:InTime;TN:TNT;AR:ARAMEX"}},
		{name:'mdetail',index:'mdetail', width:150, sortable:false,editable: true,edittype:"textarea", editoptions:{rows:"2",cols:"10"}} 
		], 

		viewrecords : true,
		rowNum:10,
		rowList:[10,20,30],
		pager : pager_selector,
		altRows: true,
			//toppager: true,
			
			multiselect: true,
			//multikey: "ctrlKey",
			multiboxonly: true,

			loadComplete : function() {
				var table = this;
				setTimeout(function(){
					styleCheckbox(table);
					
					updateActionIcons(table);
					updatePagerIcons(table);
					enableTooltips(table);
				}, 0);
			},

			editurl: "/Manager_Detail/Ajax/index.html?sid=" + strvalue , 
			caption: "jqGrid with inline editing",


			autowidth: true

		});

		//enable search/filter toolbar
		//jQuery(grid_selector).jqGrid('filterToolbar',{defaultSearch:true,stringResult:true})

		//switch element when editing inline
		function aceSwitch( cellvalue, options, cell ) {
			setTimeout(function(){
				$(cell) .find('input[type=checkbox]')
				.wrap('<label class="inline" />')
				.addClass('ace ace-switch ace-switch-5')
				.after('<span class="lbl"></span>');
			}, 0);
		}
		//enable datepicker
		function pickDate( cellvalue, options, cell ) {
			setTimeout(function(){
				$(cell) .find('input[type=text]')
				.datepicker({format:'yyyy-mm-dd' , autoclose:true}); 
			}, 0);
		}


		//navButtons
		jQuery(grid_selector).jqGrid('navGrid',pager_selector,
			{ 	//navbar options
				edit: true,
				editicon : 'icon-pencil blue',
				add: true,
				addicon : 'icon-plus-sign purple',
				del: true,
				delicon : 'icon-trash red',
				search: true,
				searchicon : 'icon-search orange',
				refresh: true,
				refreshicon : 'icon-refresh green',
				view: true,
				viewicon : 'icon-zoom-in grey',
			},
			{
				//edit record form
				//closeAfterEdit: true,
				recreateForm: true,
				beforeShowForm : function(e) {
					var form = $(e[0]);
					form.closest('.ui-jqdialog').find('.ui-jqdialog-titlebar').wrapInner('<div class="widget-header" />')
					style_edit_form(form);
				}
			},
			{
				//new record form
				closeAfterAdd: true,
				recreateForm: true,
				viewPagerButtons: false,
				beforeShowForm : function(e) {
					var form = $(e[0]);
					form.closest('.ui-jqdialog').find('.ui-jqdialog-titlebar').wrapInner('<div class="widget-header" />')
					style_edit_form(form);
				}
			},
			{
				//delete record form
				recreateForm: true,
				beforeShowForm : function(e) {
					var form = $(e[0]);
					if(form.data('styled')) return false;
					
					form.closest('.ui-jqdialog').find('.ui-jqdialog-titlebar').wrapInner('<div class="widget-header" />')
					style_delete_form(form);
					
					form.data('styled', true);
				},
				onClick : function(e) {
					alert(1);
				}
			},
			{
				//search form
				recreateForm: true,
				afterShowSearch: function(e){
					var form = $(e[0]);
					form.closest('.ui-jqdialog').find('.ui-jqdialog-title').wrap('<div class="widget-header" />')
					style_search_form(form);
				},
				afterRedraw: function(){
					style_search_filters($(this));
				}
				,
				multipleSearch: true,
				/**
				multipleGroup:true,
				showQuery: true
				*/
			},
			{
				//view record form
				recreateForm: true,
				beforeShowForm: function(e){
					var form = $(e[0]);
					form.closest('.ui-jqdialog').find('.ui-jqdialog-title').wrap('<div class="widget-header" />')
				}
			}
			)


		
		function style_edit_form(form) {
			//enable datepicker on "sdate" field and switches for "stock" field
			form.find('input[name=sdate]').datepicker({format:'yyyy-mm-dd' , autoclose:true})
			.end().find('input[name=stock]')
			.addClass('ace ace-switch ace-switch-5').wrap('<label class="inline" />').after('<span class="lbl"></span>');

			//update buttons classes
			var buttons = form.next().find('.EditButton .fm-button');
			buttons.addClass('btn btn-sm').find('[class*="-icon"]').remove();//ui-icon, s-icon
			buttons.eq(0).addClass('btn-primary').prepend('<i class="icon-ok"></i>');
			buttons.eq(1).prepend('<i class="icon-remove"></i>')
			
			buttons = form.next().find('.navButton a');
			buttons.find('.ui-icon').remove();
			buttons.eq(0).append('<i class="icon-chevron-left"></i>');
			buttons.eq(1).append('<i class="icon-chevron-right"></i>');		
		}

		function style_delete_form(form) {
			var buttons = form.next().find('.EditButton .fm-button');
			buttons.addClass('btn btn-sm').find('[class*="-icon"]').remove();//ui-icon, s-icon
			buttons.eq(0).addClass('btn-danger').prepend('<i class="icon-trash"></i>');
			buttons.eq(1).prepend('<i class="icon-remove"></i>')
		}
		
		function style_search_filters(form) {
			form.find('.delete-rule').val('X');
			form.find('.add-rule').addClass('btn btn-xs btn-primary');
			form.find('.add-group').addClass('btn btn-xs btn-success');
			form.find('.delete-group').addClass('btn btn-xs btn-danger');
		}
		function style_search_form(form) {
			var dialog = form.closest('.ui-jqdialog');
			var buttons = dialog.find('.EditTable')
			buttons.find('.EditButton a[id*="_reset"]').addClass('btn btn-sm btn-info').find('.ui-icon').attr('class', 'icon-retweet');
			buttons.find('.EditButton a[id*="_query"]').addClass('btn btn-sm btn-inverse').find('.ui-icon').attr('class', 'icon-comment-alt');
			buttons.find('.EditButton a[id*="_search"]').addClass('btn btn-sm btn-purple').find('.ui-icon').attr('class', 'icon-search');
		}
		
		function beforeDeleteCallback(e) {
			var form = $(e[0]);
			if(form.data('styled')) return false;
			
			form.closest('.ui-jqdialog').find('.ui-jqdialog-titlebar').wrapInner('<div class="widget-header" />')
			style_delete_form(form);
			
			form.data('styled', true);
		}
		
		function beforeEditCallback(e) {
			var form = $(e[0]);
			form.closest('.ui-jqdialog').find('.ui-jqdialog-titlebar').wrapInner('<div class="widget-header" />')
			style_edit_form(form);
		}



		//it causes some flicker when reloading or navigating grid
		//it may be possible to have some custom formatter to do this as the grid is being created to prevent this
		//or go back to default browser checkbox styles for the grid
		function styleCheckbox(table) {
		/**
			$(table).find('input:checkbox').addClass('ace')
			.wrap('<label />')
			.after('<span class="lbl align-top" />')
	
	
			$('.ui-jqgrid-labels th[id*="_cb"]:first-child')
			.find('input.cbox[type=checkbox]').addClass('ace')
			.wrap('<label />').after('<span class="lbl align-top" />');
			*/
		}
		

		//unlike navButtons icons, action icons in rows seem to be hard-coded
		//you can change them like this in here if you want
		function updateActionIcons(table) {
			/**
			var replacement = 
			{
				'ui-icon-pencil' : 'icon-pencil blue',
				'ui-icon-trash' : 'icon-trash red',
				'ui-icon-disk' : 'icon-ok green',
				'ui-icon-cancel' : 'icon-remove red'
			};
			$(table).find('.ui-pg-div span.ui-icon').each(function(){
				var icon = $(this);
				var $class = $.trim(icon.attr('class').replace('ui-icon', ''));
				if($class in replacement) icon.attr('class', 'ui-icon '+replacement[$class]);
			})
			*/
		}
		
		//replace icons with FontAwesome icons like above
		function updatePagerIcons(table) {
			var replacement = 
			{
				'ui-icon-seek-first' : 'icon-double-angle-left bigger-140',
				'ui-icon-seek-prev' : 'icon-angle-left bigger-140',
				'ui-icon-seek-next' : 'icon-angle-right bigger-140',
				'ui-icon-seek-end' : 'icon-double-angle-right bigger-140'
			};
			$('.ui-pg-table:not(.navtable) > tbody > tr > .ui-pg-button > .ui-icon').each(function(){
				var icon = $(this);
				var $class = $.trim(icon.attr('class').replace('ui-icon', ''));
				
				if($class in replacement) icon.attr('class', 'ui-icon '+replacement[$class]);
			})
		}

		function enableTooltips(table) {
			$('.navtable .ui-pg-button').tooltip({container:'body'});
			$(table).find('.ui-pg-div').tooltip({container:'body'});
		}

		//var selr = jQuery(grid_selector).jqGrid('getGridParam','selrow');


	});
</script>


<script type="text/javascript">
	jQuery(function($){
		$(".chosen-select").chosen(); 
		$('.date-picker').datepicker({autoclose:true}).next().on(ace.click_event, function(){
			$(this).prev().focus();
		});
		$('input[name=date-range-picker]').daterangepicker().prev().on(ace.click_event, function(){
			$(this).next().focus();
		});
	});
</script>

<script type="text/javascript">
	jQuery(function($) {
		<volist name="memberlist" id="voj" >
			$('#gritter-regular{$voj.mid}').on(ace.click_event, function(){
				$.gritter.add({
					title: '{$voj.mname}的个人介绍',
					text: '{$voj.mdetail}',
					image: $path_assets+'/avatars/avatar.png',
					sticky: false,
					time: '1500',
					class_name: 'gritter-light' 
				});
				return false;
			});
		</volist>
	});
</script>
<!-- inline scripts related to this page -->

<script type="text/javascript">
	jQuery(function($) {
		var oTable1 = $('#sample-table-2').dataTable( {
			"aoColumns": [
			{ "bSortable": false },
			null, null,null, null, null,
			{ "bSortable": false }
			] } );
		$('table th input:checkbox').on('click' , function(){
			var that = this;
			$(this).closest('table').find('tr > td:first-child input:checkbox')
			.each(function(){
				this.checked = that.checked;
				$(this).closest('tr').toggleClass('selected');
			});
		});
		$('[data-rel="tooltip"]').tooltip({placement: tooltip_placement});
		function tooltip_placement(context, source) {
			var $source = $(source);
			var $parent = $source.closest('table')
			var off1 = $parent.offset();
			var w1 = $parent.width();
			var off2 = $source.offset();
			var w2 = $source.width();
			if( parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2) ) return 'right';
			return 'left';
		}
	})
</script>

<script type="text/javascript">
	jQuery(function($){
		function showErrorAlert (reason, detail) {
			var msg='';
			if (reason==='unsupported-file-type') { msg = "Unsupported format " +detail; }
			else {
				console.log("error uploading file", reason, detail);
			}
			$('<div class="alert"> <button type="button" class="close" data-dismiss="alert">&times;</button>'+ 
				'<strong>File upload error</strong> '+msg+' </div>').prependTo('#alerts');
		}

	//$('#editor1').ace_wysiwyg();//this will create the default editor will all buttons

	//but we want to change a few buttons colors for the third style
	$('#editor1').ace_wysiwyg({
		toolbar:
		[
		'font',
		null,
		'fontSize',
		null,
		{name:'bold', className:'btn-info'},
		{name:'italic', className:'btn-info'},
		{name:'strikethrough', className:'btn-info'},
		{name:'underline', className:'btn-info'},
		null,
		{name:'insertunorderedlist', className:'btn-success'},
		{name:'insertorderedlist', className:'btn-success'},
		{name:'outdent', className:'btn-purple'},
		{name:'indent', className:'btn-purple'},
		null,
		{name:'justifyleft', className:'btn-primary'},
		{name:'justifycenter', className:'btn-primary'},
		{name:'justifyright', className:'btn-primary'},
		{name:'justifyfull', className:'btn-inverse'},
		null,
		{name:'createLink', className:'btn-pink'},
		{name:'unlink', className:'btn-pink'},
		null,
		{name:'insertImage', className:'btn-success'},
		null,
		'foreColor',
		null,
		{name:'undo', className:'btn-grey'},
		{name:'redo', className:'btn-grey'}
		],
		'wysiwyg': {
			fileUploadError: showErrorAlert
		}
	}).prev().addClass('wysiwyg-style2');

	$('[data-toggle="buttons"] .btn').on('click', function(e){
		var target = $(this).find('input[type=radio]');
		var which = parseInt(target.val());
		var toolbar = $('#editor1').prev().get(0);
		if(which == 1 || which == 2 || which == 3) {
			toolbar.className = toolbar.className.replace(/wysiwyg\-style(1|2)/g , '');
			if(which == 1) $(toolbar).addClass('wysiwyg-style1');
			else if(which == 2) $(toolbar).addClass('wysiwyg-style2');
		}
	});
	if ( typeof jQuery.ui !== 'undefined' && /applewebkit/.test(navigator.userAgent.toLowerCase()) ) {
		
		var lastResizableImg = null;
		function destroyResizable() {
			if(lastResizableImg == null) return;
			lastResizableImg.resizable( "destroy" );
			lastResizableImg.removeData('resizable');
			lastResizableImg = null;
		}

		var enableImageResize = function() {
			$('.wysiwyg-editor')
			.on('mousedown', function(e) {
				var target = $(e.target);
				if( e.target instanceof HTMLImageElement ) {
					if( !target.data('resizable') ) {
						target.resizable({
							aspectRatio: e.target.width / e.target.height,
						});
						target.data('resizable', true);
						
						if( lastResizableImg != null ) {//disable previous resizable image
							lastResizableImg.resizable( "destroy" );
							lastResizableImg.removeData('resizable');
						}
						lastResizableImg = target;
					}
				}
			})
			.on('click', function(e) {
				if( lastResizableImg != null && !(e.target instanceof HTMLImageElement) ) {
					destroyResizable();
				}
			})
			.on('keydown', function() {
				destroyResizable();
			});
		}
		
		enableImageResize();
	}
	$('#id-input-file-1 , #id-input-file-2 , #id-input-file-3').ace_file_input({
		style: 'well',
		no_file: 'Click to choose or drag & drop',
    	droppable: true, //html5 browsers only
    	thumbnail: 'small', //html5 browsers only
    	btn_choose:'Choose',
    	btn_change:'Change',
    	onchange:null,
    	thumbnail:false 
    });
	var before_change
	var btn_choose
	var no_icon
	btn_choose = "Drop images here or click to choose";
	no_icon = "icon-picture";
	before_change = function(files, dropped) {
		var allowed_files = [];
		for(var i = 0 ; i < files.length; i++) {
			var file = files[i];
			if(typeof file === "string") {
				if(! (/\.(jpe?g|png|gif|bmp)$/i).test(file) ) return false;
			}
			else {
				var type = $.trim(file.type);
				if( ( type.length > 0 && ! (/^image\/(jpe?g|png|gif|bmp)$/i).test(type) )|| ( type.length == 0 && ! (/\.(jpe?g|png|gif|bmp)$/i).test(file.name) )) 
					continue;
			}
			allowed_files.push(file);
		}
		if(allowed_files.length == 0) 
			return false;
		return allowed_files;
	}
	var file_input = $('#id-input-file-1 , #id-input-file-2 , #id-input-file-3');
	file_input.ace_file_input('update_settings', {'before_change':before_change, 'btn_choose': btn_choose, 'no_icon':no_icon})
	file_input.ace_file_input('reset_input');
});
</script>
<script type="text/javascript">
	$(document).ready(function(){
		$(document).click(function(){
			$("#hidcon").val($("#editor1").html());
		});
	})
</script>
</body>
</html>